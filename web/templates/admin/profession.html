{% extends 'common/layout_mainn.html' %}{% block css %}    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css" />    <link href="{{ buildStaticUrl( 'js/dist/summernote.css') }}" rel="stylesheet"/>{% endblock %}{% block pcoded %}    <nav class="pcoded-navbar">        <div class="navbar-wrapper">            <div class="navbar-brand header-logo">                <a href="index.html" class="b-brand">                    <span class="b-title">后台管理系统</span>                </a>                <a class="mobile-menu" id="mobile-collapse" href="javascript:"><span></span></a>            </div>            <div class="navbar-content scroll-div">                <ul class="nav pcoded-inner-navbar">                    <li class="nav-item pcoded-menu-caption">                        <label>管理员</label>                    </li>                    <li data-username="dashboard Default Ecommerce CRM Analytics Crypto Project"                        class="nav-item pcoded-hasmenu active pcoded-trigger">                        <a href="javascript:" class="nav-link"><span class="pcoded-micon"><i                                class="feather icon-home"></i></span><span class="pcoded-mtext">管理员操作</span></a>                        <ul class="pcoded-submenu">                            <li class=""><a href="{{ buildUrl('/admin/index') }}" class="">数据管理</a></li>                            <li class="active"><a href="{{ buildUrl('/admin/profession') }}" class="">修改与增加</a></li>                            <li class=""><a href="{{ buildUrl('/admin/manager?id=1') }}" class="">管理员信息</a></li>                        </ul>                    </li>                </ul>            </div>        </div>    </nav>{% endblock %}{% block content %}    {#<link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css" />    <link href="{{ buildStaticUrl( 'js/dist/summernote.css') }}" rel="stylesheet"/>    <script src="{{ buildStaticUrl( 'js/js/jquery.min.js') }}"></script>    <script src="{{ buildStaticUrl( 'js/js/bootstrap.min.js') }}"></script>    <script src="{{ buildStaticUrl( 'js/dist/summernote.js') }}"></script>    <script src="{{ buildStaticUrl( 'js/dist/lang/summernote-zh-CN.js') }}"></script>#}    <div class="pcoded-main-container">        <div class="pcoded-wrapper">            <div class="pcoded-content">                <div class="pcoded-inner-content">                    <!-- [ breadcrumb ] start -->                    <div class="page-header">                        <div class="page-block">                            <div class="row align-items-center">                                <div class="col-md-12">                                    <div class="page-header-title">                                        <h5 class="m-b-10">管理员</h5>                                    </div>                                    <ul class="breadcrumb">                                        <li class="breadcrumb-item"><a href="javascript:"><i                                                class="feather icon-home"></i></a></li>                                        <li class="breadcrumb-item"><a href="javascript:">修改与增加</a></li>                                    </ul>                                </div>                            </div>                        </div>                    </div>                    <div class="main-body">                        <div class="page-wrapper">                            <div class="col-xl-12">                                <div class="card">                                    <div class="card-header">                                        <h5>修改与增加</h5>                                    </div>                                    <div class="col-md-6">                                        <div>                                            <div class="form-group">                                                <form role="form" method="post" enctype="multipart/form-data">                                                    <label for="exampleInputEmail1">大标题</label>                                                    <input type="text" class="form-control" name="f0" value="{{ info.f0 }}">                                                    <label for="exampleInputPassword1">中标题</label>                                                    <input type="text" class="form-control" name="f1" value="{{ info.f1 }}">                                                    <label for="exampleInputPassword1">小标题</label>                                                    <input type="text" class="form-control" name="f2" value="{{ info.f2 }}">                                                    <label for="exampleInputPassword1">正文标题</label>                                                    <input type="text" class="form-control" name="title" value="{{ info.title }}">                                                    <label for="exampleInputPassword1">时间</label>                                                    <input type="text" class="form-control" name="time" value="{{ info.time }}">                                                    <label for="exampleInputPassword1">内容</label>                                                    <div class="m" style="width: 1000px; margin-left: auto; margin-right: auto;"></div>                                                    <div class="summernote">{{ info.content }}</div>                                                    <label for="exampleInputEmail1">图片</label>                                                    <input type="file" name="image_upload">                                                    <input type="submit" class="btn btn-primary" value="提交" onclick="submit({{ info.id }})">                                                </div>                                                </form>{#                                                <label for="exampleInputEmail1">大标题</label>#}{#                                                <input type="text" class="form-control" id="f0"#}{#                                                       placeholder="", value="{{ info.f0 }}">#}{#                                                <label for="exampleInputPassword1">中标题</label>#}{#                                                <input type="text" class="form-control" id="f1"#}{#                                                       placeholder="若没有下级标签则填 ' / ' ", value="{{ info.f1 }}">#}{#                                                <label for="exampleInputEmail1">小标题</label>#}{#                                                <input type="text" class="form-control" id="f2"#}{#                                                       placeholder="若没有下级标签则填 ' / ' ", value="{{ info.f2 }}">#}{#                                                <label for="exampleInputEmail1">标题</label>#}{#                                                <input type="text" class="form-control" id="title"#}{#                                                       placeholder="", value="{{ info.title }}">#}{#                                                <label for="exampleInputEmail1">时间</label>#}{#                                                <input type="text" class="form-control" id="time"#}{#                                                       placeholder="时间标准格式：2018-09-09 11:12:13", value="{{ info.time }}">#}{#                                                <label for="exampleInputEmail1">内容</label>#}{#                                                <div class="m" style="width: 800px; margin-left: auto; margin-right: auto;">#}{#                                                    <div class="summernote">{{ info.content }}</div>#}{#                                                </div>#}{#                                                <label for="exampleInputEmail1">图片</label>#}{#                                                <div id="preview" style="width: 300px;height: 200px;border: 1px solid #ced4da; margin-bottom: 15px;"></div>#}{#                                                <input type="file" onchange="preview(this)" />#}{#                                                <br>#}{#                                                <input type="submit" value="上传" class="button-new" style="margin-top:15px;"/>#}                                            </div>                                            <button type="submit" class="btn btn-primary" onclick="submit({{ info.id }})">提交</button>                                            <button type="submit" class="btn btn-primary" onclick="add()">新增</button>                                        </div>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div>{% endblock %}{% block js %}    <script src="{{ buildStaticUrl( 'js/js/jquery.min.js') }}"></script>    <script src="{{ buildStaticUrl( 'js/js/bootstrap.min.js') }}"></script>    <script src="{{ buildStaticUrl( 'js/dist/summernote.js') }}"></script>    <script src="{{ buildStaticUrl( 'js/dist/lang/summernote-zh-CN.js') }}"></script>    <script>        function submit(id) {            let f0 = $("input[id=f0]").val();            let f1 = $("input[id=f1]").val();            let f2 = $("input[id=f2]").val();            let title = $("input[id=title]").val();            let time = $("input[id=time]").val();            let content = $("div[class=summernote]").val();            $.ajax({                url: common_ops.buildUrl("/admin/update"),                type: 'POST',                data: {'id': id,'f0': f0, 'f1': f1, 'f2': f2, 'title': title, 'time': time, 'content': content},                dataType: 'json',                success: function (res) {                    alert(res.msg);                }            });        }        function add() {            let f0 = $("input[id=f0]").val();            let f1 = $("input[id=f1]").val();            let f2 = $("input[id=f2]").val();            let title = $("input[id=title]").val();            let time = $("input[id=time]").val();            let content = $("input[id=content]").val();            $.ajax({                url: common_ops.buildUrl("/admin/add"),                type: 'POST',                data: {'f0': f0, 'f1': f1, 'f2': f2, 'title': title, 'time': time, 'content': content},                dataType: 'json',                success: function (res) {                    alert(res.msg);                }            });        }        function preview(file) {            var prevDiv = document.getElementById('preview');            if (file.files && file.files[0]) {                var reader = new FileReader();                reader.onload = function (evt) {                    prevDiv.innerHTML = '<img src="' + evt.target.result + '" style="width:300px;height:180px;"/>';                }                reader.readAsDataURL(file.files[0]);            } else {                prevDiv.innerHTML = '<div class="img" style="width:300px;height:180px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=\'' + file.value + '\'"></div>';            }        }        $(function(){             $('.summernote').summernote({                    height: 200,                    tabsize: 2,                    lang: 'zh-CN'                });            });    </script>{% endblock %}